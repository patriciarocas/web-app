<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
        integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    <div class="div">
        <div class="row">
            <div *ngFor="let item of recipe" class="col-md-3 img-container" (click)="getRecipeById(item)"
                style="cursor:pointer">
                <img class="card-img-top" [src]="item.image" alt="Card image cap">
                <div class="card-body">
                    <h5 class="card-title">{{item.name_recipe}}</h5>
                </div>
            </div>
        </div>
        <!-- display recipe by id to users when click image -->
        <div class="container">
            <div class="card" *ngIf="!recipeId">
                <img src="assets/images.jpg"><br>
                <b style="text-align: center;">Feel free to try all this delicious recipes</b>
                <p style="margin-left: 10px;"> Just click on the image of the desired recipe and let yourself be carried
                    away by the culinary
                    desires.
                </p>
            </div>
            <div *ngIf="recipeId" style="text-align:justify">
                <div class="card-body">
                    <img class="card-img-top" [src]="recipeId.image" alt="Card image cap">
                    <h5 style="text-align:center">{{recipeId.name_recipe}}</h5>
                    <p class="card-text"></p>
                    <h6>Ingredients</h6>
                    <small style="text-align:justify">{{recipeId.ingredients}}</small>
                </div>
                <div class="card-footer">
                    <small class="text-muted">
                        <h6>Step-by-step instruction</h6>
                        <p style="text-align:justify">{{recipeId.description}}</p>
                    </small>
                </div>
                <div class="card-body">
                    <small style="text-align:justify">
                        <h6>Nutritional values</h6>
                        {{recipeId.macros}}
                    </small>
                </div>
                <hr>
                <p style="text-align: center;">Comments </p>
                <div *ngFor="let comm of commentsByRecipe">
                    <i class='fa fa-user-circle'></i>
                    {{comm.name_user}}
                    <small>
                        <p style="font-family: Arial; font-size: 10px;">
                            Date: {{comm.date | date:'medium':'UTC' }}</p>
                    </small>
                    <ul>{{comm.comments}} </ul>
                    <hr>
                </div>
                <!-- Add comment to recipe -->
                <label>GIVE YOUR OPINION!</label>
                <form name="form" #f="ngForm" (ngSubmit)="f.form.valid && addComment()">
                    <textarea id="comment" name="comment" rows="4" cols="50 " [(ngModel)]="model.comments">
                    </textarea>
                    <br>
                    <p>Fill in your details below to login</p>
                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" class="form-control" id="email" placeholder="Enter email" name="email"
                            [(ngModel)]="model.email" #email="ngModel"
                            [ngClass]="{ 'is-invalid': f.submitted && email.invalid }" required email />
                        <!-- input validation group -->
                        <div *ngIf="f.submitted && email.invalid" class="invalid-input">
                            <!-- individual validation errors -->
                            <div *ngIf="email.errors?.['required']">Field is required</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="name">Name:</label>
                        <input type="name" class="form-control" id="name" placeholder="Enter name" name="name"
                            [(ngModel)]="model.name_user" #name_user="ngModel"
                            [ngClass]="{ 'is-invalid': f.submitted && name_user.invalid }" required name_user />
                        <!-- input validation group -->
                        <div *ngIf="f.submitted && name_user.invalid" class="invalid-input">
                            <!-- individual validation errors -->
                            <div *ngIf="name_user.errors?.['required']">Field is required</div>
                        </div>
                    </div>
                    <br>
                    <button class="btn btn-success" type="submit"> Submit</button>
                    <br>
                </form>
            </div>
        </div>
    </div>
    <br>
    <p style="text-align:center">Copyright &copy; 2021 All rights reserved. </p>

</body>


</html>